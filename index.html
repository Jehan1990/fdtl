<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Jehan’s FDTL Calculator Pro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body class="bg-md-surface dark:bg-md-darkSurface text-md-onSurface dark:text-md-darkOnSurface min-h-screen flex flex-col items-center p-4 md:p-8 font-sans" oncontextmenu="return false;">

    <div class="particles" id="pickerParticles"></div>

    <div class="modal-overlay" id="errorModal">
        <div class="bw-picker-card w-full max-w-[320px] p-6 border-t-4 border-red-500">
            <div class="flex items-center gap-3 mb-4 text-red-600">
                <i class="fas fa-circle-exclamation text-xl"></i>
                <h4 class="text-sm font-bold uppercase tracking-wider">Invalid Times</h4>
            </div>
            <p class="text-sm opacity-80 leading-relaxed mb-6">
                Both <span class="font-bold">Reporting</span> and <span class="font-bold">Chocks On</span> times are within the WOCL period (02:00 - 06:00). Calculation not allowed.
            </p>
            <button id="closeErrorBtn" class="w-full py-3 bg-md-primary dark:bg-md-darkPrimary text-md-onPrimary dark:text-black rounded-2xl font-bold">OKAY</button>
        </div>
    </div>

    <div class="modal-overlay" id="timePickerModal">
        <div class="bw-picker-card w-[320px] p-6 relative z-[110]">
            <h4 id="pickerTitle" class="text-[11px] font-bold tracking-[0.2em] mb-6 text-md-onPrimaryContainer dark:text-md-darkPrimary text-center uppercase opacity-80">Set Time</h4>
            <div class="time-wheels mb-6">
                <div class="selection-highlight"></div>
                <div class="wheel" id="hoursWheel"></div>
                <div class="text-2xl font-black px-2 z-10 text-md-primary dark:text-md-darkPrimary opacity-40">:</div>
                <div class="wheel" id="minsWheel"></div>
            </div>
            <div class="flex gap-3">
                <button id="cancelPickerBtn" class="flex-1 py-4 text-md-onSurface dark:text-md-darkOnSurface opacity-60 font-bold text-[11px] tracking-widest">CANCEL</button>
                <button id="confirmTimeBtn" class="flex-1 py-4 bg-md-primary dark:bg-md-darkPrimary text-md-onPrimary dark:text-black rounded-2xl font-bold text-[11px] tracking-widest shadow-lg">CONFIRM</button>
            </div>
        </div>
    </div>

    <div class="w-full max-w-6xl flex justify-between items-center mb-6">
        <div>
            <h1 class="text-2xl md:text-3xl font-bold tracking-tight text-md-primary dark:text-md-darkPrimary">FDTL <span class="italic">PRO</span></h1>
            <p class="text-[11px] font-medium uppercase tracking-[0.1em] opacity-60">Jehan’s Professional Calculator</p>
        </div>
        <button id="themeToggleBtn" class="w-12 h-12 rounded-full flex items-center justify-center hover:bg-black/5 dark:hover:bg-white/5 transition-colors">
            <i id="themeIcon" class="fas fa-circle-half-stroke text-xl"></i>
        </button>
    </div>

    <main class="w-full max-w-6xl grid grid-cols-1 lg:grid-cols-2 gap-8 items-start">
        <div class="space-y-6">
            <div class="m3-card p-6 md:p-8 shadow-sm">
                <div class="space-y-6">
                    <div id="reportTimeGroup" class="relative group cursor-pointer border-b border-md-primary/20 dark:border-md-darkPrimary/40 pb-3">
                        <label class="text-sm font-semibold text-md-onPrimaryContainer dark:text-md-darkPrimary block mb-1">Reporting Time</label>
                        <div class="flex items-center">
                            <i class="fas fa-clock mr-3 text-md-primary dark:text-md-darkPrimary opacity-80"></i>
                            <input type="text" id="reportTime" readonly placeholder="--:--" class="bg-transparent text-3xl font-medium outline-none pointer-events-none">
                        </div>
                    </div>

                    <div id="chocksOnGroup" class="relative group cursor-pointer border-b border-md-primary/20 dark:border-md-darkPrimary/40 pb-3">
                        <label class="text-sm font-semibold text-md-onPrimaryContainer dark:text-md-darkPrimary block mb-1">Chocks On</label>
                        <div class="flex items-center">
                            <i class="fas fa-plane-arrival mr-3 text-md-primary dark:text-md-darkPrimary opacity-80"></i>
                            <input type="text" id="chocksOn" readonly placeholder="--:--" class="bg-transparent text-3xl font-medium outline-none pointer-events-none">
                        </div>
                    </div>

                    <div class="bg-md-surfaceVariant dark:bg-md-darkPrimaryContainer/30 p-5 rounded-3xl border border-md-primary/10 dark:border-md-darkPrimary/30">
                        <label class="text-[12px] font-bold uppercase tracking-widest block mb-4 text-center opacity-70">Number of Landings</label>
                        <div class="flex items-center justify-between px-6">
                            <button id="lndMinus" class="w-12 h-12 rounded-2xl bg-md-primary dark:bg-md-darkPrimary text-md-onPrimary dark:text-black flex items-center justify-center text-lg"><i class="fas fa-minus"></i></button>
                            <span id="landingsCount" class="text-5xl font-bold mono">1</span>
                            <button id="lndPlus" class="w-12 h-12 rounded-2xl bg-md-primary dark:bg-md-darkPrimary text-md-onPrimary dark:text-black flex items-center justify-center text-lg"><i class="fas fa-plus"></i></button>
                        </div>
                    </div>

                    <div id="results" class="hidden space-y-6 pt-6 border-t border-md-primary/10 dark:border-md-darkPrimary/20">
                        <div class="format-container">
                            <div id="toggleSlider" class="toggle-slider"></div>
                            <button id="fmtHHMM" class="format-btn active">HH:MM</button>
                            <button id="fmtDEC" class="format-btn">DECIMAL</button>
                        </div>

                        <div id="statusBox" class="p-5 rounded-3xl flex items-center gap-4 transition-all">
                            <div id="statusIcon" class="text-3xl"></div>
                            <div class="flex-1">
                                <h2 id="statusTitle" class="text-xl font-bold uppercase tracking-tight">--</h2>
                            </div>
                            <button id="shareBtn" class="w-12 h-12 rounded-full bg-black/5 dark:bg-white/5 flex items-center justify-center">
                                <i class="fas fa-share-nodes text-lg"></i>
                            </button>
                        </div>

                        <div class="grid grid-cols-2 gap-4">
                            <div class="p-5 rounded-3xl bg-white dark:bg-black border border-md-primary/10 dark:border-md-darkPrimary/30 text-center">
                                <p class="text-[11px] font-bold opacity-60 uppercase mb-1">Actual FDP</p>
                                <p id="resActual" class="text-2xl font-bold mono">--:--</p>
                            </div>
                            <div class="p-5 rounded-3xl bg-white dark:bg-black border border-md-primary/10 dark:border-md-darkPrimary/30 text-center">
                                <p class="text-[11px] font-bold opacity-60 uppercase mb-1">Max Allowed</p>
                                <p id="resMax" class="text-2xl font-bold mono text-md-onPrimaryContainer dark:text-md-darkPrimary">--:--</p>
                            </div>
                        </div>

                        <div class="p-5 rounded-3xl bg-md-primary/5 dark:bg-md-darkPrimary/10 space-y-3">
                            <div class="flex justify-between">
                                <span class="opacity-70 font-medium">Base FDP Limit:</span>
                                <span id="resBase" class="font-bold text-lg mono">--:--</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="opacity-70 font-medium">WOCL Penalty:</span>
                                <span id="resPenalty" class="font-bold text-lg mono">--:--</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="m3-card p-6 md:p-8">
            <h3 class="text-[13px] font-bold opacity-60 uppercase tracking-[0.2em] mb-6 text-center text-md-onPrimaryContainer dark:text-md-darkPrimary">DGCA Reference Table</h3>
            <div class="space-y-1">
                <div class="table-row-grid font-bold opacity-40 border-b border-md-primary/10 dark:border-md-darkPrimary/40 mb-2 text-sm">
                    <span>LDG</span><span>MAX FT</span><span>MAX FDP</span>
                </div>
                </div>
        </div>
    </main>

    <script src="script.js"></script>
</body>
</html>
